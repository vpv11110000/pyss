<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PySS: Класс pyss::depart::Depart</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Создано системой Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Титульная&nbsp;страница</span></a></li>
      <li><a href="namespaces.html"><span>Пространства&nbsp;имен</span></a></li>
      <li class="current"><a href="annotated.html"><span>Классы</span></a></li>
      <li><a href="files.html"><span>Файлы</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Классы</span></a></li>
      <li><a href="classes.html"><span>Алфавитный&nbsp;указатель&nbsp;классов</span></a></li>
      <li><a href="hierarchy.html"><span>Иерархия&nbsp;классов</span></a></li>
      <li><a href="functions.html"><span>Члены&nbsp;классов</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacepyss.html">pyss</a>      </li>
      <li><a class="el" href="namespacepyss_1_1depart.html">depart</a>      </li>
      <li><a class="el" href="classpyss_1_1depart_1_1_depart.html">pyss::depart::Depart</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Открытые члены</a>  </div>
  <div class="headertitle">
<h1>Класс pyss::depart::Depart</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="pyss::depart::Depart" --><!-- doxytag: inherits="pyss::block::Block" --><div class="dynheader">
Граф наследования:pyss::depart::Depart:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classpyss_1_1depart_1_1_depart.png" usemap="#pyss::depart::Depart_map" alt=""/>
  <map id="pyss::depart::Depart_map" name="pyss::depart::Depart_map">
<area href="classpyss_1_1block_1_1_block.html" alt="pyss::block::Block" shape="rect" coords="0,112,247,136"/>
<area href="classpyss_1_1pyssownerobject_1_1_pyss_owner_object.html" alt="pyss::pyssownerobject::PyssOwnerObject" shape="rect" coords="0,56,247,80"/>
<area href="classpyss_1_1pyssobject_1_1_pyss_object.html" alt="pyss::pyssobject::PyssObject" shape="rect" coords="0,0,247,24"/>
</map>
</div>

<p><a href="classpyss_1_1depart_1_1_depart-members.html">Полный список членов класса</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Открытые члены</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1depart_1_1_depart.html#a1e36d6bd73d4eefed3a9b6cf96c2a1bf">__init__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1depart_1_1_depart.html#a8cf4e082b184d8c5736e5c7f83dc7638">getQueueObject</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1depart_1_1_depart.html#ae26d725d313e0583a66c925fddad748c">transactInner</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a9f2b8bd8775c92aa845a9d4894a2eec8">__init__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1pyssobject_1_1_pyss_object.html#a5c7e54a5ad585a3492e742ee8baaabd8">__init__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a0957ed609c76bf7de848e471fd597f43">canEnter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a1e5a009a63308f8c5c9106be0def2c67">handleCanNotEnter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#af948623da6074bf8db25c0252e427eb3">transactHandle</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a8b5888dec7702a2d4b0aec9d3c221ac8">moveToNextBlock</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#addc7dd443a59fd99807f8b7bc5d0557b">transactOut</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a737d839914e052ca15ed477caefd3bb3">getOwnerSegment</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a6fe64d7242ca8ee949e95ca668025f4c">getOwnerModel</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#ae379938fbb9c0846aa13e24a07045aa6">__str__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a3a7d563718689ab495b0de59aef46817">findBlockByLabel</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1pyssownerobject_1_1_pyss_owner_object.html#a3040b86d28884c99039896f29cceb63b">getOwner</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1pyssobject_1_1_pyss_object.html#a9fcc00f610d726390d1b1ff645407ef5">setlabel</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Подробное описание</h2>
<div class="fragment"><pre class="fragment">Блок Depart служит для уменьшения длины очереди.

Args:
ownerSegment=None - объект сегмента-владельца 
label=None - метка блока (см. block.py)    
queueName - имя объекта (queue.Queue) очереди или функция без параметров,
        определяющая имя объекта очереди, в которой должна уменьшиться длина
deltaDecrease - значение или функция, возвращающая целое значение,
                на которое уменьшается длина очереди, по умолчанию 1.
                Это значение не должно превышать текущую длину очереди.
                Параметр deltaDecrease, как правило, должен быть равен deltaIncrease
                блока queue.Queue.
                Сигнатура float f(o,t).                    

Например, блок

depart.Depart(sgm, queueName="QUEUE_1", deltaDecrease=1)

или

depart.Depart(queueName=lambda:"QUEUE_1", deltaDecrease=1)

при прохождении транзакта будет уменьшать длину очереди QUEUE_1 на 1.

См. также queue.py (занятие очереди).

Атрибуты блока Depart (в дополнение к атрибутам block.Block и pyssobject.PyssObject):
bl = Depart(...)
bl[QUEUE_NAME] - имя объекта (queue.Queue) очереди или функция без параметров,
        определяющая имя объекта очереди.
bl[DELTA_DECREASE] - целое значение, на которое уменьшается длина очереди.

</pre></div> 
<p>См. определение в файле <a class="el" href="depart_8py_source.html">depart.py</a> строка <a class="el" href="depart_8py_source.html#l00015">15</a></p>
<hr/><h2>Методы</h2>
<a class="anchor" id="a1e36d6bd73d4eefed3a9b6cf96c2a1bf"></a><!-- doxytag: member="pyss::depart::Depart::__init__" ref="a1e36d6bd73d4eefed3a9b6cf96c2a1bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::depart::Depart::__init__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>ownerSegment</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>queueName</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>deltaDecrease</em> = <code>1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>См. определение в файле <a class="el" href="depart_8py_source.html">depart.py</a> строка <a class="el" href="depart_8py_source.html#l00049">49</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00050"></a>00050                                                                                       :
<a name="l00051"></a>00051         super(Depart, self).__init__(DEPART, label=label, ownerSegment=ownerSegment)
<a name="l00052"></a>00052         map(pyssobject.raiseIsTrue, [queueName <span class="keywordflow">is</span> <span class="keywordtype">None</span>, deltaDecrease &lt; 0])
<a name="l00053"></a>00053         self[QUEUE_NAME] = queueName
<a name="l00054"></a>00054         <span class="keywordflow">if</span> pyssobject.isfunction(deltaDecrease):
<a name="l00055"></a>00055             self[DELTA_DECREASE] = deltaDecrease
<a name="l00056"></a>00056         <span class="keywordflow">else</span>:
<a name="l00057"></a>00057             self[DELTA_DECREASE] = <span class="keyword">lambda</span> o, t: deltaDecrease         
        
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9f2b8bd8775c92aa845a9d4894a2eec8"></a><!-- doxytag: member="pyss::depart::Depart::__init__" ref="a9f2b8bd8775c92aa845a9d4894a2eec8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::__init__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>entityType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>ownerSegment</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяет метод предка <a class="el" href="classpyss_1_1pyssownerobject_1_1_pyss_owner_object.html#a63338fbec3819fc02edbed64475f6325">pyss::pyssownerobject::PyssOwnerObject</a>.</p>

<p>Переопределяется в <a class="el" href="classpyss_1_1assemble_1_1_assemble.html#ae1a35b87db7a4c47ed912270735cce12">pyss::assemble::Assemble</a>, <a class="el" href="classpyss_1_1g__return_1_1_g_return.html#a51cad49e8e1553672287557847d20a4a">pyss::g_return::GReturn</a>, <a class="el" href="classpyss_1_1handle_1_1_handle.html#a7ca393a4cbaf0d7ce367e81a083e4209">pyss::handle::Handle</a>, <a class="el" href="classpyss_1_1mark_1_1_mark.html#a91093e5a8d4fe102d0701ed1c68e1bd1">pyss::mark::Mark</a>, <a class="el" href="classpyss_1_1preempt_1_1_preempt.html#a42740aae4d331712d110ac99b266d765">pyss::preempt::Preempt</a>, <a class="el" href="classpyss_1_1release_1_1_release.html#aaf956f0a1ed56abf9ba204b9e7a618af">pyss::release::Release</a>, <a class="el" href="classpyss_1_1seize_1_1_seize.html#ab464c5b4cbdd9a782dfa84daf2811f1b">pyss::seize::Seize</a>, <a class="el" href="classpyss_1_1terminate_1_1_terminate.html#a1a76eaade070ab7044c26d82dadb2ed1">pyss::terminate::Terminate</a> и <a class="el" href="classpyss_1_1transfer_1_1_transfer.html#adfc09e41a3b2e4c7d97e098c02375987">pyss::transfer::Transfer</a>.</p>

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00037">37</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00038"></a>00038                                                                  :
<a name="l00039"></a>00039         super(Block, self).__init__(entityType, label=label, owner=ownerSegment)
<a name="l00040"></a>00040         self[ENTRY_COUNT] = 0
<a name="l00041"></a>00041         self[CURRENT_COUNT] = 0
<a name="l00042"></a>00042         self[RETRY] = 0
<a name="l00043"></a>00043         self[BLOCK_NEXT] = <span class="keywordtype">None</span>
<a name="l00044"></a>00044         self[BLOCK_PREV] = <span class="keywordtype">None</span>
<a name="l00045"></a>00045         ownerSegment.addBlock(self)
        
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5c7e54a5ad585a3492e742ee8baaabd8"></a><!-- doxytag: member="pyss::depart::Depart::__init__" ref="a5c7e54a5ad585a3492e742ee8baaabd8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::pyssobject::PyssObject::__init__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>entityType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>label</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяется в <a class="el" href="classpyss_1_1facility_1_1_facility.html#ad6c41c7fd0714ef33f7e2c1ed490f5f0">pyss::facility::Facility</a>.</p>

<p>См. определение в файле <a class="el" href="pyssobject_8py_source.html">pyssobject.py</a> строка <a class="el" href="pyssobject_8py_source.html#l00094">94</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00095"></a>00095                                               :
<a name="l00096"></a>00096         super(PyssObject, self).__init__(self)
<a name="l00097"></a>00097         self[ENTITY_TYPE] = entityType
<a name="l00098"></a>00098         <span class="keywordflow">if</span> label <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> isinstance(label, basestring):
<a name="l00099"></a>00099             <span class="keywordflow">raise</span> ErrorIsNotStr(<span class="stringliteral">&quot;label must be str [%s]&quot;</span> % entityType)
<a name="l00100"></a>00100         self[LABEL] = label
<a name="l00101"></a>00101         self[NUM] = <span class="keywordtype">None</span>
        
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae379938fbb9c0846aa13e24a07045aa6"></a><!-- doxytag: member="pyss::depart::Depart::__str__" ref="ae379938fbb9c0846aa13e24a07045aa6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::__str__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяет метод предка <a class="el" href="classpyss_1_1pyssobject_1_1_pyss_object.html#a08475b54a6dd03644642cda873365b36">pyss::pyssobject::PyssObject</a>.</p>

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00129">129</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00130"></a>00130                      :
<a name="l00131"></a>00131         s = <span class="stringliteral">&quot;&quot;</span>
<a name="l00132"></a>00132         <span class="keywordflow">for</span> key <span class="keywordflow">in</span> self:
<a name="l00133"></a>00133             <span class="keywordflow">if</span> key <span class="keywordflow">not</span> <span class="keywordflow">in</span> [OWNER, BLOCK_NEXT, BLOCK_PREV]:
<a name="l00134"></a>00134                 <span class="keywordflow">if</span> s:
<a name="l00135"></a>00135                     s += <span class="stringliteral">&quot;;&quot;</span>
<a name="l00136"></a>00136                 s += key + <span class="stringliteral">&quot;:&quot;</span> + str(self[key])
<a name="l00137"></a>00137         <span class="keywordflow">return</span> s
    
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0957ed609c76bf7de848e471fd597f43"></a><!-- doxytag: member="pyss::depart::Depart::canEnter" ref="a0957ed609c76bf7de848e471fd597f43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::canEnter </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>transact</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяется в <a class="el" href="classpyss_1_1assemble_1_1_assemble.html#afc71b87fcd50125fb2f41ce5ce7c7f3a">pyss::assemble::Assemble</a>, <a class="el" href="classpyss_1_1enter_1_1_enter.html#ada0af87e9670bae5d6397ed31825f5ad">pyss::enter::Enter</a>, <a class="el" href="classpyss_1_1gate_1_1_gate.html#a2de6edb1473d14bd0bc3fc053fb7b341">pyss::gate::Gate</a>, <a class="el" href="classpyss_1_1leave_1_1_leave.html#ab97f5ee99788e030a38642b70dd94175">pyss::leave::Leave</a>, <a class="el" href="classpyss_1_1preempt_1_1_preempt.html#a15c4dd2ae2e4f56beaab9bbef275e6c9">pyss::preempt::Preempt</a>, <a class="el" href="classpyss_1_1seize_1_1_seize.html#ad43ebb1cdad417b57f58c21d2fc7b45c">pyss::seize::Seize</a>, <a class="el" href="classpyss_1_1split_1_1_split.html#a91ba754e04df67381940ecfce45b3639">pyss::split::Split</a> и <a class="el" href="classpyss_1_1test_1_1_test.html#a328c7db58a6c1dc39f150f71b1d4eb54">pyss::test::Test</a>.</p>

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00046">46</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00047"></a>00047                                 :
<a name="l00048"></a>00048         <span class="comment"># pylint: disable=unused-argument, no-self-use</span>
<a name="l00049"></a>00049         <span class="keywordflow">return</span> <span class="keyword">True</span>

</pre></div></p>

</div>
</div>
<a class="anchor" id="a3a7d563718689ab495b0de59aef46817"></a><!-- doxytag: member="pyss::depart::Depart::findBlockByLabel" ref="a3a7d563718689ab495b0de59aef46817" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::findBlockByLabel </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>label</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00138">138</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00139"></a>00139                                      :
<a name="l00140"></a>00140         <span class="keywordflow">if</span> label <span class="keywordflow">is</span> <span class="keywordtype">None</span>:
<a name="l00141"></a>00141             <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00142"></a>00142         <span class="keywordflow">return</span> self.getOwnerModel().findBlockByLabel(label)

</pre></div></p>

</div>
</div>
<a class="anchor" id="a3040b86d28884c99039896f29cceb63b"></a><!-- doxytag: member="pyss::depart::Depart::getOwner" ref="a3040b86d28884c99039896f29cceb63b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::pyssownerobject::PyssOwnerObject::getOwner </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Получить объект владельца</pre></div> 
<p>См. определение в файле <a class="el" href="pyssownerobject_8py_source.html">pyssownerobject.py</a> строка <a class="el" href="pyssownerobject_8py_source.html#l00031">31</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00032"></a>00032                       :
<a name="l00033"></a>00033         <span class="stringliteral">&quot;&quot;&quot;Получить объект владельца&quot;&quot;&quot;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035         <span class="keywordflow">return</span> self[OWNER]        
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6fe64d7242ca8ee949e95ca668025f4c"></a><!-- doxytag: member="pyss::depart::Depart::getOwnerModel" ref="a6fe64d7242ca8ee949e95ca668025f4c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::getOwnerModel </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Получить объект модели владельца сегмента и соответственно этого блока</pre></div> 
<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00124">124</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00125"></a>00125                            :
<a name="l00126"></a>00126         <span class="stringliteral">&quot;&quot;&quot;Получить объект модели владельца сегмента и соответственно этого блока&quot;&quot;&quot;</span>
<a name="l00127"></a>00127          
<a name="l00128"></a>00128         <span class="keywordflow">return</span> self[OWNER][OWNER]

</pre></div></p>

</div>
</div>
<a class="anchor" id="a737d839914e052ca15ed477caefd3bb3"></a><!-- doxytag: member="pyss::depart::Depart::getOwnerSegment" ref="a737d839914e052ca15ed477caefd3bb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::getOwnerSegment </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Получить объект сегмента владельца этого блока</pre></div> 
<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00119">119</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00120"></a>00120                              :
<a name="l00121"></a>00121         <span class="stringliteral">&quot;&quot;&quot;Получить объект сегмента владельца этого блока&quot;&quot;&quot;</span>
<a name="l00122"></a>00122 
<a name="l00123"></a>00123         <span class="keywordflow">return</span> self[OWNER]
        
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8cf4e082b184d8c5736e5c7f83dc7638"></a><!-- doxytag: member="pyss::depart::Depart::getQueueObject" ref="a8cf4e082b184d8c5736e5c7f83dc7638" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::depart::Depart::getQueueObject </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>См. определение в файле <a class="el" href="depart_8py_source.html">depart.py</a> строка <a class="el" href="depart_8py_source.html#l00058">58</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00059"></a>00059                             :
<a name="l00060"></a>00060         <span class="keywordflow">return</span> self.getOwnerModel()[QUEUE_OBJECTS][self[QUEUE_NAME]] 
    
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1e5a009a63308f8c5c9106be0def2c67"></a><!-- doxytag: member="pyss::depart::Depart::handleCanNotEnter" ref="a1e5a009a63308f8c5c9106be0def2c67" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::handleCanNotEnter </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>transact</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяется в <a class="el" href="classpyss_1_1assemble_1_1_assemble.html#a124df14bff95d86bd24ab3c0893a6817">pyss::assemble::Assemble</a>, <a class="el" href="classpyss_1_1enter_1_1_enter.html#a06f45d5ee79ee6e65f990e46ac86fa5e">pyss::enter::Enter</a>, <a class="el" href="classpyss_1_1gate_1_1_gate.html#a4d6e56deb4632551d62d91edad2fe83d">pyss::gate::Gate</a>, <a class="el" href="classpyss_1_1leave_1_1_leave.html#ab40aab261febc41ebf3636b7dea17568">pyss::leave::Leave</a>, <a class="el" href="classpyss_1_1preempt_1_1_preempt.html#a5e3cc3f9c5fadc71c4347476084d4a85">pyss::preempt::Preempt</a>, <a class="el" href="classpyss_1_1seize_1_1_seize.html#abd9cae46a9e623e9f48f16dae4da182a">pyss::seize::Seize</a>, <a class="el" href="classpyss_1_1split_1_1_split.html#a3e4ed6d0a0a07fed0319ac3044575322">pyss::split::Split</a> и <a class="el" href="classpyss_1_1test_1_1_test.html#a4c5e62c235081701564c0068b1625313">pyss::test::Test</a>.</p>

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00050">50</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00051"></a>00051                                          :
<a name="l00052"></a>00052         <span class="keywordflow">pass</span>

</pre></div></p>

</div>
</div>
<a class="anchor" id="a8b5888dec7702a2d4b0aec9d3c221ac8"></a><!-- doxytag: member="pyss::depart::Depart::moveToNextBlock" ref="a8b5888dec7702a2d4b0aec9d3c221ac8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::moveToNextBlock </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>transact</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00104">104</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00105"></a>00105                                        :
<a name="l00106"></a>00106         <span class="keywordflow">if</span> transact[BLOCK_NEXT]:
<a name="l00107"></a>00107             transact[CURRENT_BLOCK] = transact[BLOCK_NEXT]
<a name="l00108"></a>00108             transact[BLOCK_NEXT] = <span class="keywordtype">None</span>
<a name="l00109"></a>00109         <span class="keywordflow">else</span>:
<a name="l00110"></a>00110             transact[CURRENT_BLOCK] = self[BLOCK_NEXT]
<a name="l00111"></a>00111         transact[HANDLED] = <span class="keyword">False</span>

</pre></div></p>

</div>
</div>
<a class="anchor" id="a9fcc00f610d726390d1b1ff645407ef5"></a><!-- doxytag: member="pyss::depart::Depart::setlabel" ref="a9fcc00f610d726390d1b1ff645407ef5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::pyssobject::PyssObject::setlabel </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>label</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Устанавливает метку объекта. Возвращает объект</pre></div> 
<p>См. определение в файле <a class="el" href="pyssobject_8py_source.html">pyssobject.py</a> строка <a class="el" href="pyssobject_8py_source.html#l00102">102</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00103"></a>00103                              :
<a name="l00104"></a>00104         <span class="stringliteral">&quot;&quot;&quot;Устанавливает метку объекта. Возвращает объект&quot;&quot;&quot;</span>
<a name="l00105"></a>00105         
<a name="l00106"></a>00106         self[LABEL] = label
<a name="l00107"></a>00107         <span class="keywordflow">return</span> self

</pre></div></p>

</div>
</div>
<a class="anchor" id="af948623da6074bf8db25c0252e427eb3"></a><!-- doxytag: member="pyss::depart::Depart::transactHandle" ref="af948623da6074bf8db25c0252e427eb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::transactHandle </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>currentTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>transact</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяется в <a class="el" href="classpyss_1_1generate_1_1_generate.html#a0dbae2b307806e004c391b3865a74a53">pyss::generate::Generate</a>.</p>

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00058">58</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00059"></a>00059                                                    :
<a name="l00060"></a>00060 
<a name="l00061"></a>00061         <span class="comment"># pylint: disable=unsubscriptable-object</span>
<a name="l00062"></a>00062         m = self.getOwnerModel()
<a name="l00063"></a>00063         cs = m.getCurrentSegment()
<a name="l00064"></a>00064 
<a name="l00065"></a>00065         rv = <span class="keyword">False</span>
<a name="l00066"></a>00066         b = transact
<a name="l00067"></a>00067         <span class="keywordflow">if</span> <span class="keywordflow">not</span> transact[HANDLED]:
<a name="l00068"></a>00068             <span class="keywordflow">if</span> cs[OPTIONS]:
<a name="l00069"></a>00069                 <span class="keywordflow">if</span> cs[OPTIONS].logTransactTrace:
<a name="l00070"></a>00070                     logger.info(<span class="stringliteral">&quot;[%s] handle transact\n    [%s] &quot;</span> % (str(self[ENTITY_TYPE]), str(transact)))
<a name="l00071"></a>00071             <span class="keywordflow">if</span> self.canEnter(transact):
<a name="l00072"></a>00072                 nextBlock = transact[BLOCK_NEXT]
<a name="l00073"></a>00073                 transact[BLOCK_NEXT] = <span class="keywordtype">None</span>
<a name="l00074"></a>00074                 transact[HANDLED] = <span class="keyword">True</span>
<a name="l00075"></a>00075                 <span class="keywordflow">if</span> self[ENTITY_TYPE] != GENERATE:
<a name="l00076"></a>00076                     self[ENTRY_COUNT] += 1
<a name="l00077"></a>00077                     self[CURRENT_COUNT] += 1
<a name="l00078"></a>00078                 <span class="comment"># transact[BLOCK_NEXT] - может меняться, например в transferto</span>
<a name="l00079"></a>00079                 b = self.transactInner(currentTime, transact)
<a name="l00080"></a>00080                 <span class="keywordflow">if</span> transact[BLOCK_NEXT] <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> transact[TRANSACT_DELETED]:
<a name="l00081"></a>00081                     transact[BLOCK_NEXT] = nextBlock
<a name="l00082"></a>00082             <span class="keywordflow">else</span>:
<a name="l00083"></a>00083                 self.handleCanNotEnter(transact)
<a name="l00084"></a>00084         <span class="comment"># not join!</span>
<a name="l00085"></a>00085         <span class="comment"># b can change!</span>
<a name="l00086"></a>00086         <span class="keywordflow">if</span> b <span class="keywordflow">and</span> transact[HANDLED]:
<a name="l00087"></a>00087             rv = <span class="keyword">True</span>
<a name="l00088"></a>00088             <span class="keywordflow">if</span> transact[BLOCK_NEXT]:
<a name="l00089"></a>00089                 <span class="keywordflow">if</span> transact[BLOCK_NEXT].canEnter(transact):
<a name="l00090"></a>00090                     self.transactOut(transact)
<a name="l00091"></a>00091                 <span class="keywordflow">else</span>:
<a name="l00092"></a>00092                     transact[BLOCK_NEXT].handleCanNotEnter(transact)
<a name="l00093"></a>00093                     rv = <span class="keyword">False</span>
<a name="l00094"></a>00094             <span class="keywordflow">else</span>:
<a name="l00095"></a>00095                 <span class="keywordflow">if</span> self[BLOCK_NEXT]:
<a name="l00096"></a>00096                     <span class="keywordflow">if</span> self[BLOCK_NEXT].canEnter(transact):
<a name="l00097"></a>00097                         self.transactOut(transact)
<a name="l00098"></a>00098                     <span class="keywordflow">else</span>:
<a name="l00099"></a>00099                         self[BLOCK_NEXT].handleCanNotEnter(transact)
<a name="l00100"></a>00100                         rv = <span class="keyword">False</span>
<a name="l00101"></a>00101                 <span class="keywordflow">else</span>:
<a name="l00102"></a>00102                     rv = <span class="keyword">False</span>
<a name="l00103"></a>00103         <span class="keywordflow">return</span> rv

</pre></div></p>

</div>
</div>
<a class="anchor" id="ae26d725d313e0583a66c925fddad748c"></a><!-- doxytag: member="pyss::depart::Depart::transactInner" ref="ae26d725d313e0583a66c925fddad748c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::depart::Depart::transactInner </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>currentTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>transact</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяет метод предка <a class="el" href="classpyss_1_1block_1_1_block.html#abfe7fed4d47fa27469b86d41fec4d86b">pyss::block::Block</a>.</p>

<p>См. определение в файле <a class="el" href="depart_8py_source.html">depart.py</a> строка <a class="el" href="depart_8py_source.html#l00061">61</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00062"></a>00062                                                   :
<a name="l00063"></a>00063         q = self.getQueueObject()
<a name="l00064"></a>00064         <span class="keywordflow">if</span> q:
<a name="l00065"></a>00065             currentTimeActial = currentTime
<a name="l00066"></a>00066             currentTimeOld = q[LISTTRANSACT][transact[NUM]]
<a name="l00067"></a>00067             d = currentTimeActial - currentTimeOld
<a name="l00068"></a>00068             deltaDec = self[DELTA_DECREASE](self, transact)
<a name="l00069"></a>00069             <span class="comment"># точность по умолчани ALLOWED_ERROR = 1e-07</span>
<a name="l00070"></a>00070             <span class="keywordflow">if</span> pyssobject.floatEquals(d, 0.0, allowed_error=ALLOWED_ERROR):
<a name="l00071"></a>00071                 q[ENTRY_ZERO] += deltaDec
<a name="l00072"></a>00072             <span class="keywordflow">elif</span> d &gt; 0.0:
<a name="l00073"></a>00073                 <span class="keywordflow">pass</span>
<a name="l00074"></a>00074             <span class="keywordflow">else</span>:
<a name="l00075"></a>00075                 <span class="keywordflow">raise</span> Exception(<span class="stringliteral">&quot;Illegal value currentTimeActial&lt;currentTimeOld&quot;</span>)
<a name="l00076"></a>00076             q.decrease(currentTime, transact, deltaDec)
<a name="l00077"></a>00077             q[STATISTICAL_SERIES].append(value=d, count=deltaDec)
<a name="l00078"></a>00078             q[TIME_MEAN] = q[STATISTICAL_SERIES].mean()
<a name="l00079"></a>00079             ss = q[STATISTICAL_SERIES].cloneWithFilter(funcFilter=<span class="keyword">lambda</span> k, v: k != 0.0)
<a name="l00080"></a>00080             q[TIME_MEAN_WITHOUT_ZERO] = ss.mean()
<a name="l00081"></a>00081             z = self[QUEUE_NAME]
<a name="l00082"></a>00082             m = self.getOwnerModel()
<a name="l00083"></a>00083             <span class="keywordflow">if</span> z <span class="keywordflow">in</span> m.qtableList:
<a name="l00084"></a>00084                 m.qtableList[z].handle(timeBusyOfQueue=d)
<a name="l00085"></a>00085 
<a name="l00086"></a>00086             q[LISTTRANSACT].pop(transact[NUM])
<a name="l00087"></a>00087             q[CURRENT_COUNT] -= 1
<a name="l00088"></a>00088         <span class="keywordflow">else</span>:
<a name="l00089"></a>00089             <span class="keywordflow">raise</span> pyssobject.ErrorQueueObjectExists(<span class="stringliteral">&quot;Reference to Queue is null [%s]&quot;</span> % z)
<a name="l00090"></a>00090         <span class="keywordflow">return</span> transact

</pre></div></p>

</div>
</div>
<a class="anchor" id="addc7dd443a59fd99807f8b7bc5d0557b"></a><!-- doxytag: member="pyss::depart::Depart::transactOut" ref="addc7dd443a59fd99807f8b7bc5d0557b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::transactOut </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>transact</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяется в <a class="el" href="classpyss_1_1queue_1_1_queue.html#a49a7b66cfd25d859f925d62c7fabff69">pyss::queue::Queue</a>.</p>

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00112">112</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00113"></a>00113                                    :
<a name="l00114"></a>00114         self[CURRENT_COUNT] -= 1
<a name="l00115"></a>00115         <span class="keywordflow">if</span> self[CURRENT_COUNT] &lt;0:
<a name="l00116"></a>00116             <span class="comment"># TODO УБРАТЬ</span>
<a name="l00117"></a>00117             <span class="keywordflow">print</span> <span class="stringliteral">&quot;BAD&quot;</span>
<a name="l00118"></a>00118         self.moveToNextBlock(transact)

</pre></div></p>

</div>
</div>
<hr/>Объявления и описания членов класса находятся в файле:<ul>
<li>pyss/<a class="el" href="depart_8py_source.html">depart.py</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Документация по PySS. Последние изменения: Tue Sep 5 2017 17:26:13. Создано системой&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
