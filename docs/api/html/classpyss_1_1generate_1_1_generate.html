<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PySS: Класс pyss::generate::Generate</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Создано системой Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Титульная&nbsp;страница</span></a></li>
      <li><a href="namespaces.html"><span>Пространства&nbsp;имен</span></a></li>
      <li class="current"><a href="annotated.html"><span>Классы</span></a></li>
      <li><a href="files.html"><span>Файлы</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Классы</span></a></li>
      <li><a href="classes.html"><span>Алфавитный&nbsp;указатель&nbsp;классов</span></a></li>
      <li><a href="hierarchy.html"><span>Иерархия&nbsp;классов</span></a></li>
      <li><a href="functions.html"><span>Члены&nbsp;классов</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacepyss.html">pyss</a>      </li>
      <li><a class="el" href="namespacepyss_1_1generate.html">generate</a>      </li>
      <li><a class="el" href="classpyss_1_1generate_1_1_generate.html">pyss::generate::Generate</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Открытые члены</a>  </div>
  <div class="headertitle">
<h1>Класс pyss::generate::Generate</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="pyss::generate::Generate" --><!-- doxytag: inherits="pyss::block::Block" --><div class="dynheader">
Граф наследования:pyss::generate::Generate:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classpyss_1_1generate_1_1_generate.png" usemap="#pyss::generate::Generate_map" alt=""/>
  <map id="pyss::generate::Generate_map" name="pyss::generate::Generate_map">
<area href="classpyss_1_1block_1_1_block.html" alt="pyss::block::Block" shape="rect" coords="0,112,247,136"/>
<area href="classpyss_1_1pyssownerobject_1_1_pyss_owner_object.html" alt="pyss::pyssownerobject::PyssOwnerObject" shape="rect" coords="0,56,247,80"/>
<area href="classpyss_1_1pyssobject_1_1_pyss_object.html" alt="pyss::pyssobject::PyssObject" shape="rect" coords="0,0,247,24"/>
</map>
</div>

<p><a href="classpyss_1_1generate_1_1_generate-members.html">Полный список членов класса</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Открытые члены</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1generate_1_1_generate.html#a7e34e04940a0109ee953fcda9ada06c8">__init__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1generate_1_1_generate.html#a4790d40595f2b4e607ac89111396c000">modifiedValue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1generate_1_1_generate.html#a5d2281bd07d9cc25df9a63bec48320f6">findNextTime</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1generate_1_1_generate.html#acb5d0504839b4c7e11949a8044cafd69">mustGenerateTransact</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1generate_1_1_generate.html#a7308ccfb0df37007531f798edf8d3db8">generateTransact</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1generate_1_1_generate.html#a60279b63c0329e3f956eb73582804cd9">transactInner</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1generate_1_1_generate.html#a0dbae2b307806e004c391b3865a74a53">transactHandle</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1generate_1_1_generate.html#ab72b6d9f8125bf234176c6bb083662d8">howMuchIsStillLeft</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a9f2b8bd8775c92aa845a9d4894a2eec8">__init__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1pyssobject_1_1_pyss_object.html#a5c7e54a5ad585a3492e742ee8baaabd8">__init__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a0957ed609c76bf7de848e471fd597f43">canEnter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a1e5a009a63308f8c5c9106be0def2c67">handleCanNotEnter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a8b5888dec7702a2d4b0aec9d3c221ac8">moveToNextBlock</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#addc7dd443a59fd99807f8b7bc5d0557b">transactOut</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a737d839914e052ca15ed477caefd3bb3">getOwnerSegment</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a6fe64d7242ca8ee949e95ca668025f4c">getOwnerModel</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#ae379938fbb9c0846aa13e24a07045aa6">__str__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1block_1_1_block.html#a3a7d563718689ab495b0de59aef46817">findBlockByLabel</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1pyssownerobject_1_1_pyss_owner_object.html#a3040b86d28884c99039896f29cceb63b">getOwner</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpyss_1_1pyssobject_1_1_pyss_object.html#a9fcc00f610d726390d1b1ff645407ef5">setlabel</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Подробное описание</h2>
<div class="fragment"><pre class="fragment">Блок формирования транзактов модели

В один момент времени формируется один транзакт.
Для создания транзактов, входящих в модель, служит блок Generate (генерировать),

Транзакты модели не должны входить в блок GENERATE.

Args:
ownerSegment=None - объект сегмента-владельца 
label=None - метка блока (см. block.py) 
med_value=1 - среднее время формирования транзактов (вещественное число),
              или функция float f()
              Если задано вещественное число, 
              то в атрибут MED_VALUE записыватся функция lambda: med_value
              Значение параметров med_value, first_tx, 
              если задан список или кортеж в modificatorFunc, будет игнорироваться.
modificatorFunc=None - функция модификации времени следующего формирования транзакта 
                       (float f(owner,currenttime)).
                       По сути этот параметр определяет смещение от model.getCurTime()+значение(med_value)
                       Если задано число, 
                       то в атрибут MODIFICATOR записыватся функция lambda owner,currenttime: modificatorFunc
                       Если задан список или кортеж, то при каждом вызове функции модификации времени
                       будет браться следующее значение. 
                       Значение параметров med_value, first_tx, если задан список или кортеж, будет игнорироваться. 
first_tx=0 - время формирования первого транзакта.
             Если задано None и modificatorFunc не является списком или кортежем,
             то значение вычисляется как случайное число,
             сформированное по равномерному распределению на интервале
             [0,"среднее время формирования транзактов (см. med_value)"
             +"результат вызова функции модификации времени 
             следующего формирования транзакта (см. modificatorFunc)"]
             Значение параметров med_value, first_tx, 
             если задан список или кортеж в modificatorFunc, будет игнорироваться.
max_amount=None - максимальное количество транзактов формируемых блоком.
                  Если параметр max_amount равен 0 или None,
                  то блок генерирует неограниченное число транзактов до завершения моделирования,
                  или количеством, равным размеру списка modificatorFunc (если задан)
priority=0 - приоритет.
             Число уровней приоритетов неограничено,
             самый низкий приоритет - нулевой.
             Если параметр priority равен None,
             то формируемые транзакты имeют нулевой приоритет.

Простейший вызов имеет следующий формат:
from pyss import generate
 ...
# model
m = pyss_model.PyssModel()
sgm=segment.Segment()
generate.Generate(sgm, med_value=1, modificatorFunc=None, first_tx=0, max_amount=None, priority=0)
terminate.Terminate(sgm, deltaTerminate=1)
m.start(10, maxTime=20)

Параметр med_value задает среднее значение интервала времени
между моментами поступления
в модель двух последовательных транзактов.
Если этот интервал (med_value) постоянен, то параметр modificatorFunc
может быть None или быть функцией, возвращающей значение 0 (см. modificatorfunc.py).
Если же интервал поступления транзактов в модель является случайной величиной,
то в параметре modificatorFunc указывается
модификатор-функция среднего значения (med_value), например: lambda owner, currentTime: random.uniform(0,5.0)

Например, блок

generate.Generate(sgm, med_value=100, modificatorFunc=lambda owner, currentTime: random.uniform(-40.0,40.0), first_tx=0, max_amount=None, priority=0)

создает транзакты через случайные интервалы времени, равномерно распределенные на отрезке [60;140].

Атрибуты блока Generate (в дополнение к атрибутам block.Block):
bl = Generate(...)
bl[MED_VALUE] - функция возвращающая среднее время генерации транзакта 
bl[MODIFICATOR] - функция модификации времени следующего формирования транзакта по формуле 
              bl[MED_VALUE]()+bl[MODIFICATOR](bl, currentTime)
bl[FIRST_TX] - время формирования первого транзакта
bl[MAX_AMOUNT] - максимальное количество транзактов формируемых блоком
bl[PRIORITY] - функция, вычисляющая приоритет формируемых транзактов
bl[NEXT_TIME] - метка времени, для формирования следующего транзакта, 
            или None, если больше формирование транзактов не предполагается
bl[COUNT_TRANSACT] - количество сформированных транзактов
bl[ENABLED] - флаг, если True, то блок может формировать транзакты
                если False, то блок не может формировать транзакты 

Может быть заменён на блок Test или Transfer.

</pre></div> 
<p>См. определение в файле <a class="el" href="generate_8py_source.html">generate.py</a> строка <a class="el" href="generate_8py_source.html#l00017">17</a></p>
<hr/><h2>Методы</h2>
<a class="anchor" id="a7e34e04940a0109ee953fcda9ada06c8"></a><!-- doxytag: member="pyss::generate::Generate::__init__" ref="a7e34e04940a0109ee953fcda9ada06c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::generate::Generate::__init__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>ownerSegment</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>med_value</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>modificatorFunc</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>first_tx</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>max_amount</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>priority</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>См. определение в файле <a class="el" href="generate_8py_source.html">generate.py</a> строка <a class="el" href="generate_8py_source.html#l00104">104</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00109"></a>00109                             :
<a name="l00110"></a>00110 
<a name="l00111"></a>00111         <span class="comment"># pylint:disable=too-many-arguments</span>
<a name="l00112"></a>00112 
<a name="l00113"></a>00113         super(Generate, self).__init__(GENERATE, label=label, ownerSegment=ownerSegment)
<a name="l00114"></a>00114 
<a name="l00115"></a>00115         <span class="keywordflow">if</span> pyssobject.isfunction(modificatorFunc):
<a name="l00116"></a>00116             self[MODIFICATOR] = modificatorFunc
<a name="l00117"></a>00117         <span class="keywordflow">else</span>:
<a name="l00118"></a>00118             <span class="keywordflow">if</span> type(modificatorFunc) <span class="keywordflow">is</span> list <span class="keywordflow">or</span> type(modificatorFunc) <span class="keywordflow">is</span> tuple:
<a name="l00119"></a>00119                 _list = modificatorFunc
<a name="l00120"></a>00120                 <span class="keyword">def </span>f():
<a name="l00121"></a>00121                     <span class="keywordflow">for</span> x <span class="keywordflow">in</span> _list:
<a name="l00122"></a>00122                         <span class="keywordflow">yield</span> x
<a name="l00123"></a>00123                 g = f()
<a name="l00124"></a>00124                 self[MODIFICATOR] = <span class="keyword">lambda</span> o, c: next(g, <span class="keywordtype">None</span>)
<a name="l00125"></a>00125                 med_value, first_tx = <span class="keywordtype">None</span>, <span class="keywordtype">None</span>
<a name="l00126"></a>00126                 logger.warn(<span class="stringliteral">&quot;Generate: med_value, first_tx set to None &quot;</span>)
<a name="l00127"></a>00127             <span class="keywordflow">elif</span> modificatorFunc <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:
<a name="l00128"></a>00128                 <span class="comment"># число</span>
<a name="l00129"></a>00129                 self[MODIFICATOR] = <span class="keyword">lambda</span> o, c: modificatorFunc
<a name="l00130"></a>00130             <span class="keywordflow">else</span>:
<a name="l00131"></a>00131                 <span class="comment"># число</span>
<a name="l00132"></a>00132                 self[MODIFICATOR] = <span class="keyword">lambda</span> o, c: 0
<a name="l00133"></a>00133 
<a name="l00134"></a>00134         <span class="keywordflow">if</span> pyssobject.isfunction(med_value):
<a name="l00135"></a>00135             self[MED_VALUE] = med_value
<a name="l00136"></a>00136         <span class="keywordflow">else</span>:
<a name="l00137"></a>00137             map(pyssobject.raiseIsTrue, [med_value <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> med_value &lt; 0,
<a name="l00138"></a>00138                                      med_value <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> med_value &gt; 0 <span class="keywordflow">and</span> max_amount <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> max_amount &lt; 1,
<a name="l00139"></a>00139                                      med_value <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> max_amount != 1 <span class="keywordflow">and</span> <span class="keywordflow">not</span> (type(modificatorFunc) <span class="keywordflow">is</span> list <span class="keywordflow">or</span> type(modificatorFunc) <span class="keywordflow">is</span> tuple),
<a name="l00140"></a>00140                                      (type(modificatorFunc) <span class="keywordflow">is</span> list <span class="keywordflow">or</span> type(modificatorFunc) <span class="keywordflow">is</span> tuple) <span class="keywordflow">and</span> len(modificatorFunc) == 0,
<a name="l00141"></a>00141                                      (type(modificatorFunc) <span class="keywordflow">is</span> list <span class="keywordflow">or</span> type(modificatorFunc) <span class="keywordflow">is</span> tuple) <span class="keywordflow">and</span> med_value <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>])
<a name="l00142"></a>00142             <span class="keywordflow">if</span> med_value <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:
<a name="l00143"></a>00143                 self[MED_VALUE] = <span class="keyword">lambda</span>: med_value
<a name="l00144"></a>00144             <span class="keywordflow">else</span>:
<a name="l00145"></a>00145                 self[MED_VALUE] = <span class="keywordtype">None</span>                
<a name="l00146"></a>00146         
<a name="l00147"></a>00147         <span class="keywordflow">if</span> first_tx <span class="keywordflow">is</span> <span class="keywordtype">None</span>:
<a name="l00148"></a>00148             <span class="keywordflow">if</span> self[MED_VALUE] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:
<a name="l00149"></a>00149                 self[FIRST_TX] = random.uniform(0, self[MED_VALUE]() + self[MODIFICATOR](self, 0))
<a name="l00150"></a>00150             <span class="keywordflow">else</span>:
<a name="l00151"></a>00151                 <span class="keywordflow">if</span> type(modificatorFunc) <span class="keywordflow">is</span> list <span class="keywordflow">or</span> type(modificatorFunc) <span class="keywordflow">is</span> tuple:
<a name="l00152"></a>00152                     self[FIRST_TX] = self[MODIFICATOR](self, 0)
<a name="l00153"></a>00153                 <span class="keywordflow">else</span>:
<a name="l00154"></a>00154                     self[FIRST_TX] = random.uniform(0, self[MODIFICATOR](self, 0))
<a name="l00155"></a>00155         <span class="keywordflow">else</span>:
<a name="l00156"></a>00156             self[FIRST_TX] = first_tx
<a name="l00157"></a>00157         self[MAX_AMOUNT] = max_amount
<a name="l00158"></a>00158         self[PRIORITY] = <span class="keyword">lambda</span>: priority
<a name="l00159"></a>00159         self[NEXT_TIME] = self[FIRST_TX]
<a name="l00160"></a>00160         self[COUNT_TRANSACT] = 0
<a name="l00161"></a>00161         self[ENABLED] = <span class="keyword">True</span>
        
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9f2b8bd8775c92aa845a9d4894a2eec8"></a><!-- doxytag: member="pyss::generate::Generate::__init__" ref="a9f2b8bd8775c92aa845a9d4894a2eec8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::__init__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>entityType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>ownerSegment</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяет метод предка <a class="el" href="classpyss_1_1pyssownerobject_1_1_pyss_owner_object.html#a63338fbec3819fc02edbed64475f6325">pyss::pyssownerobject::PyssOwnerObject</a>.</p>

<p>Переопределяется в <a class="el" href="classpyss_1_1assemble_1_1_assemble.html#ae1a35b87db7a4c47ed912270735cce12">pyss::assemble::Assemble</a>, <a class="el" href="classpyss_1_1g__return_1_1_g_return.html#a51cad49e8e1553672287557847d20a4a">pyss::g_return::GReturn</a>, <a class="el" href="classpyss_1_1handle_1_1_handle.html#a7ca393a4cbaf0d7ce367e81a083e4209">pyss::handle::Handle</a>, <a class="el" href="classpyss_1_1mark_1_1_mark.html#a91093e5a8d4fe102d0701ed1c68e1bd1">pyss::mark::Mark</a>, <a class="el" href="classpyss_1_1preempt_1_1_preempt.html#a42740aae4d331712d110ac99b266d765">pyss::preempt::Preempt</a>, <a class="el" href="classpyss_1_1release_1_1_release.html#aaf956f0a1ed56abf9ba204b9e7a618af">pyss::release::Release</a>, <a class="el" href="classpyss_1_1seize_1_1_seize.html#ab464c5b4cbdd9a782dfa84daf2811f1b">pyss::seize::Seize</a>, <a class="el" href="classpyss_1_1terminate_1_1_terminate.html#a1a76eaade070ab7044c26d82dadb2ed1">pyss::terminate::Terminate</a> и <a class="el" href="classpyss_1_1transfer_1_1_transfer.html#adfc09e41a3b2e4c7d97e098c02375987">pyss::transfer::Transfer</a>.</p>

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00037">37</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00038"></a>00038                                                                  :
<a name="l00039"></a>00039         super(Block, self).__init__(entityType, label=label, owner=ownerSegment)
<a name="l00040"></a>00040         self[ENTRY_COUNT] = 0
<a name="l00041"></a>00041         self[CURRENT_COUNT] = 0
<a name="l00042"></a>00042         self[RETRY] = 0
<a name="l00043"></a>00043         self[BLOCK_NEXT] = <span class="keywordtype">None</span>
<a name="l00044"></a>00044         self[BLOCK_PREV] = <span class="keywordtype">None</span>
<a name="l00045"></a>00045         ownerSegment.addBlock(self)
        
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5c7e54a5ad585a3492e742ee8baaabd8"></a><!-- doxytag: member="pyss::generate::Generate::__init__" ref="a5c7e54a5ad585a3492e742ee8baaabd8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::pyssobject::PyssObject::__init__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>entityType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>label</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяется в <a class="el" href="classpyss_1_1facility_1_1_facility.html#ad6c41c7fd0714ef33f7e2c1ed490f5f0">pyss::facility::Facility</a>.</p>

<p>См. определение в файле <a class="el" href="pyssobject_8py_source.html">pyssobject.py</a> строка <a class="el" href="pyssobject_8py_source.html#l00094">94</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00095"></a>00095                                               :
<a name="l00096"></a>00096         super(PyssObject, self).__init__(self)
<a name="l00097"></a>00097         self[ENTITY_TYPE] = entityType
<a name="l00098"></a>00098         <span class="keywordflow">if</span> label <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> isinstance(label, basestring):
<a name="l00099"></a>00099             <span class="keywordflow">raise</span> ErrorIsNotStr(<span class="stringliteral">&quot;label must be str [%s]&quot;</span> % entityType)
<a name="l00100"></a>00100         self[LABEL] = label
<a name="l00101"></a>00101         self[NUM] = <span class="keywordtype">None</span>
        
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae379938fbb9c0846aa13e24a07045aa6"></a><!-- doxytag: member="pyss::generate::Generate::__str__" ref="ae379938fbb9c0846aa13e24a07045aa6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::__str__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяет метод предка <a class="el" href="classpyss_1_1pyssobject_1_1_pyss_object.html#a08475b54a6dd03644642cda873365b36">pyss::pyssobject::PyssObject</a>.</p>

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00129">129</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00130"></a>00130                      :
<a name="l00131"></a>00131         s = <span class="stringliteral">&quot;&quot;</span>
<a name="l00132"></a>00132         <span class="keywordflow">for</span> key <span class="keywordflow">in</span> self:
<a name="l00133"></a>00133             <span class="keywordflow">if</span> key <span class="keywordflow">not</span> <span class="keywordflow">in</span> [OWNER, BLOCK_NEXT, BLOCK_PREV]:
<a name="l00134"></a>00134                 <span class="keywordflow">if</span> s:
<a name="l00135"></a>00135                     s += <span class="stringliteral">&quot;;&quot;</span>
<a name="l00136"></a>00136                 s += key + <span class="stringliteral">&quot;:&quot;</span> + str(self[key])
<a name="l00137"></a>00137         <span class="keywordflow">return</span> s
    
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0957ed609c76bf7de848e471fd597f43"></a><!-- doxytag: member="pyss::generate::Generate::canEnter" ref="a0957ed609c76bf7de848e471fd597f43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::canEnter </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>transact</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяется в <a class="el" href="classpyss_1_1assemble_1_1_assemble.html#afc71b87fcd50125fb2f41ce5ce7c7f3a">pyss::assemble::Assemble</a>, <a class="el" href="classpyss_1_1enter_1_1_enter.html#ada0af87e9670bae5d6397ed31825f5ad">pyss::enter::Enter</a>, <a class="el" href="classpyss_1_1gate_1_1_gate.html#a2de6edb1473d14bd0bc3fc053fb7b341">pyss::gate::Gate</a>, <a class="el" href="classpyss_1_1leave_1_1_leave.html#ab97f5ee99788e030a38642b70dd94175">pyss::leave::Leave</a>, <a class="el" href="classpyss_1_1preempt_1_1_preempt.html#a15c4dd2ae2e4f56beaab9bbef275e6c9">pyss::preempt::Preempt</a>, <a class="el" href="classpyss_1_1seize_1_1_seize.html#ad43ebb1cdad417b57f58c21d2fc7b45c">pyss::seize::Seize</a>, <a class="el" href="classpyss_1_1split_1_1_split.html#a91ba754e04df67381940ecfce45b3639">pyss::split::Split</a> и <a class="el" href="classpyss_1_1test_1_1_test.html#a328c7db58a6c1dc39f150f71b1d4eb54">pyss::test::Test</a>.</p>

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00046">46</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00047"></a>00047                                 :
<a name="l00048"></a>00048         <span class="comment"># pylint: disable=unused-argument, no-self-use</span>
<a name="l00049"></a>00049         <span class="keywordflow">return</span> <span class="keyword">True</span>

</pre></div></p>

</div>
</div>
<a class="anchor" id="a3a7d563718689ab495b0de59aef46817"></a><!-- doxytag: member="pyss::generate::Generate::findBlockByLabel" ref="a3a7d563718689ab495b0de59aef46817" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::findBlockByLabel </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>label</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00138">138</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00139"></a>00139                                      :
<a name="l00140"></a>00140         <span class="keywordflow">if</span> label <span class="keywordflow">is</span> <span class="keywordtype">None</span>:
<a name="l00141"></a>00141             <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00142"></a>00142         <span class="keywordflow">return</span> self.getOwnerModel().findBlockByLabel(label)

</pre></div></p>

</div>
</div>
<a class="anchor" id="a5d2281bd07d9cc25df9a63bec48320f6"></a><!-- doxytag: member="pyss::generate::Generate::findNextTime" ref="a5d2281bd07d9cc25df9a63bec48320f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::generate::Generate::findNextTime </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>См. определение в файле <a class="el" href="generate_8py_source.html">generate.py</a> строка <a class="el" href="generate_8py_source.html#l00181">181</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00182"></a>00182                           :
<a name="l00183"></a>00183         <span class="keywordflow">return</span> self[NEXT_TIME]

</pre></div></p>

</div>
</div>
<a class="anchor" id="a7308ccfb0df37007531f798edf8d3db8"></a><!-- doxytag: member="pyss::generate::Generate::generateTransact" ref="a7308ccfb0df37007531f798edf8d3db8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::generate::Generate::generateTransact </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>currentTime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>См. определение в файле <a class="el" href="generate_8py_source.html">generate.py</a> строка <a class="el" href="generate_8py_source.html#l00192">192</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00193"></a>00193                                            :
<a name="l00194"></a>00194         r = <span class="keywordtype">None</span>
<a name="l00195"></a>00195         <span class="keywordflow">if</span> <span class="keywordflow">not</span> self[ENABLED]:
<a name="l00196"></a>00196             <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00197"></a>00197         <span class="keywordflow">if</span> self[NEXT_TIME] <span class="keywordflow">is</span> <span class="keywordtype">None</span>:
<a name="l00198"></a>00198             self[ENABLED] = <span class="keyword">False</span>
<a name="l00199"></a>00199             <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00200"></a>00200         <span class="keywordflow">if</span> self[MAX_AMOUNT] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: 
<a name="l00201"></a>00201             <span class="keywordflow">if</span> self[NEXT_TIME] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> self[COUNT_TRANSACT] &gt;= self[MAX_AMOUNT]:
<a name="l00202"></a>00202                 self[NEXT_TIME] = <span class="keywordtype">None</span>
<a name="l00203"></a>00203                 self[ENABLED] = <span class="keyword">False</span>
<a name="l00204"></a>00204                 <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00205"></a>00205             
<a name="l00206"></a>00206         <span class="keywordflow">if</span> self.mustGenerateTransact(currentTime):
<a name="l00207"></a>00207             <span class="keywordflow">if</span> self[MED_VALUE] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:
<a name="l00208"></a>00208                 self[NEXT_TIME] = self[NEXT_TIME] + self.modifiedValue(currentTime)
<a name="l00209"></a>00209             <span class="keywordflow">else</span>:
<a name="l00210"></a>00210                 <span class="keywordflow">if</span> self[MODIFICATOR] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:
<a name="l00211"></a>00211                     self[NEXT_TIME] = self[MODIFICATOR](self, currentTime)
<a name="l00212"></a>00212                 <span class="keywordflow">else</span>:
<a name="l00213"></a>00213                     self[NEXT_TIME] = <span class="keywordtype">None</span>
<a name="l00214"></a>00214             r = Transact(self, currentTime, priority=self[PRIORITY]())
<a name="l00215"></a>00215             r[NUM]=self.getOwnerModel().transactNumber.buildObjectNumber()
<a name="l00216"></a>00216             <span class="comment"># r[TRACK].append(tuple(currentTime,self))</span>
<a name="l00217"></a>00217             r[HANDLED] = <span class="keyword">True</span>
<a name="l00218"></a>00218             r[BLOCK_NEXT] = <span class="keywordtype">None</span>
<a name="l00219"></a>00219             self[COUNT_TRANSACT] += 1
<a name="l00220"></a>00220             self[ENABLED] = self.howMuchIsStillLeft() &gt; 0
<a name="l00221"></a>00221             <span class="comment"># logger.info(&quot;Generate transact  (%d/%d)&quot;%(self[COUNT_TRANSACT],self[MAX_AMOUNT]))</span>
<a name="l00222"></a>00222         <span class="keywordflow">return</span> r

</pre></div></p>

</div>
</div>
<a class="anchor" id="a3040b86d28884c99039896f29cceb63b"></a><!-- doxytag: member="pyss::generate::Generate::getOwner" ref="a3040b86d28884c99039896f29cceb63b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::pyssownerobject::PyssOwnerObject::getOwner </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Получить объект владельца</pre></div> 
<p>См. определение в файле <a class="el" href="pyssownerobject_8py_source.html">pyssownerobject.py</a> строка <a class="el" href="pyssownerobject_8py_source.html#l00031">31</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00032"></a>00032                       :
<a name="l00033"></a>00033         <span class="stringliteral">&quot;&quot;&quot;Получить объект владельца&quot;&quot;&quot;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035         <span class="keywordflow">return</span> self[OWNER]        
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6fe64d7242ca8ee949e95ca668025f4c"></a><!-- doxytag: member="pyss::generate::Generate::getOwnerModel" ref="a6fe64d7242ca8ee949e95ca668025f4c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::getOwnerModel </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Получить объект модели владельца сегмента и соответственно этого блока</pre></div> 
<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00124">124</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00125"></a>00125                            :
<a name="l00126"></a>00126         <span class="stringliteral">&quot;&quot;&quot;Получить объект модели владельца сегмента и соответственно этого блока&quot;&quot;&quot;</span>
<a name="l00127"></a>00127          
<a name="l00128"></a>00128         <span class="keywordflow">return</span> self[OWNER][OWNER]

</pre></div></p>

</div>
</div>
<a class="anchor" id="a737d839914e052ca15ed477caefd3bb3"></a><!-- doxytag: member="pyss::generate::Generate::getOwnerSegment" ref="a737d839914e052ca15ed477caefd3bb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::getOwnerSegment </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Получить объект сегмента владельца этого блока</pre></div> 
<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00119">119</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00120"></a>00120                              :
<a name="l00121"></a>00121         <span class="stringliteral">&quot;&quot;&quot;Получить объект сегмента владельца этого блока&quot;&quot;&quot;</span>
<a name="l00122"></a>00122 
<a name="l00123"></a>00123         <span class="keywordflow">return</span> self[OWNER]
        
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1e5a009a63308f8c5c9106be0def2c67"></a><!-- doxytag: member="pyss::generate::Generate::handleCanNotEnter" ref="a1e5a009a63308f8c5c9106be0def2c67" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::handleCanNotEnter </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>transact</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяется в <a class="el" href="classpyss_1_1assemble_1_1_assemble.html#a124df14bff95d86bd24ab3c0893a6817">pyss::assemble::Assemble</a>, <a class="el" href="classpyss_1_1enter_1_1_enter.html#a06f45d5ee79ee6e65f990e46ac86fa5e">pyss::enter::Enter</a>, <a class="el" href="classpyss_1_1gate_1_1_gate.html#a4d6e56deb4632551d62d91edad2fe83d">pyss::gate::Gate</a>, <a class="el" href="classpyss_1_1leave_1_1_leave.html#ab40aab261febc41ebf3636b7dea17568">pyss::leave::Leave</a>, <a class="el" href="classpyss_1_1preempt_1_1_preempt.html#a5e3cc3f9c5fadc71c4347476084d4a85">pyss::preempt::Preempt</a>, <a class="el" href="classpyss_1_1seize_1_1_seize.html#abd9cae46a9e623e9f48f16dae4da182a">pyss::seize::Seize</a>, <a class="el" href="classpyss_1_1split_1_1_split.html#a3e4ed6d0a0a07fed0319ac3044575322">pyss::split::Split</a> и <a class="el" href="classpyss_1_1test_1_1_test.html#a4c5e62c235081701564c0068b1625313">pyss::test::Test</a>.</p>

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00050">50</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00051"></a>00051                                          :
<a name="l00052"></a>00052         <span class="keywordflow">pass</span>

</pre></div></p>

</div>
</div>
<a class="anchor" id="ab72b6d9f8125bf234176c6bb083662d8"></a><!-- doxytag: member="pyss::generate::Generate::howMuchIsStillLeft" ref="ab72b6d9f8125bf234176c6bb083662d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::generate::Generate::howMuchIsStillLeft </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Сколько ещё осталось сформировать транзактов

Если self[MAX_AMOUNT] is not None:
Возвращает self[MAX_AMOUNT] - self[COUNT_TRANSACT]
иначе возвращает float('inf') (не ограничено)
</pre></div> 
<p>См. определение в файле <a class="el" href="generate_8py_source.html">generate.py</a> строка <a class="el" href="generate_8py_source.html#l00262">262</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00263"></a>00263                                 :
<a name="l00264"></a>00264         <span class="stringliteral">&quot;&quot;&quot;Сколько ещё осталось сформировать транзактов</span>
<a name="l00265"></a>00265 <span class="stringliteral">        </span>
<a name="l00266"></a>00266 <span class="stringliteral">        Если self[MAX_AMOUNT] is not None:</span>
<a name="l00267"></a>00267 <span class="stringliteral">        Возвращает self[MAX_AMOUNT] - self[COUNT_TRANSACT]</span>
<a name="l00268"></a>00268 <span class="stringliteral">        иначе возвращает float(&#39;inf&#39;) (не ограничено)</span>
<a name="l00269"></a>00269 <span class="stringliteral">        &quot;&quot;&quot;</span>
<a name="l00270"></a>00270         <span class="keywordflow">if</span> self[MAX_AMOUNT] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> self[MAX_AMOUNT] &gt; 0:
<a name="l00271"></a>00271             <span class="keywordflow">return</span> self[MAX_AMOUNT] - self[COUNT_TRANSACT]
<a name="l00272"></a>00272         <span class="keywordflow">else</span>:
<a name="l00273"></a>00273             <span class="keywordflow">return</span> float(<span class="stringliteral">&#39;inf&#39;</span>)

</pre></div></p>

</div>
</div>
<a class="anchor" id="a4790d40595f2b4e607ac89111396c000"></a><!-- doxytag: member="pyss::generate::Generate::modifiedValue" ref="a4790d40595f2b4e607ac89111396c000" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::generate::Generate::modifiedValue </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>currentTime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>См. определение в файле <a class="el" href="generate_8py_source.html">generate.py</a> строка <a class="el" href="generate_8py_source.html#l00162">162</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00163"></a>00163                                         :
<a name="l00164"></a>00164         t = self[MED_VALUE]
<a name="l00165"></a>00165         m = self[MODIFICATOR]
<a name="l00166"></a>00166         <span class="keywordflow">if</span> t <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:
<a name="l00167"></a>00167             <span class="keywordflow">if</span> pyssobject.isfunction(t):
<a name="l00168"></a>00168                 <span class="keywordflow">if</span> m:
<a name="l00169"></a>00169                     <span class="keywordflow">return</span> t() + m(self, currentTime)
<a name="l00170"></a>00170                 <span class="keywordflow">else</span>:
<a name="l00171"></a>00171                     <span class="keywordflow">return</span> t()
<a name="l00172"></a>00172             <span class="keywordflow">if</span> m:
<a name="l00173"></a>00173                 <span class="keywordflow">return</span> t() + m(self, currentTime)
<a name="l00174"></a>00174             <span class="keywordflow">else</span>:
<a name="l00175"></a>00175                 <span class="keywordflow">return</span> t()
<a name="l00176"></a>00176         <span class="keywordflow">else</span>:
<a name="l00177"></a>00177             <span class="keywordflow">if</span> m:
<a name="l00178"></a>00178                 <span class="keywordflow">return</span> m(self, currentTime)
<a name="l00179"></a>00179             <span class="keywordflow">else</span>:
<a name="l00180"></a>00180                 <span class="keywordflow">return</span> <span class="keywordtype">None</span>

</pre></div></p>

</div>
</div>
<a class="anchor" id="a8b5888dec7702a2d4b0aec9d3c221ac8"></a><!-- doxytag: member="pyss::generate::Generate::moveToNextBlock" ref="a8b5888dec7702a2d4b0aec9d3c221ac8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::moveToNextBlock </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>transact</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00104">104</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00105"></a>00105                                        :
<a name="l00106"></a>00106         <span class="keywordflow">if</span> transact[BLOCK_NEXT]:
<a name="l00107"></a>00107             transact[CURRENT_BLOCK] = transact[BLOCK_NEXT]
<a name="l00108"></a>00108             transact[BLOCK_NEXT] = <span class="keywordtype">None</span>
<a name="l00109"></a>00109         <span class="keywordflow">else</span>:
<a name="l00110"></a>00110             transact[CURRENT_BLOCK] = self[BLOCK_NEXT]
<a name="l00111"></a>00111         transact[HANDLED] = <span class="keyword">False</span>

</pre></div></p>

</div>
</div>
<a class="anchor" id="acb5d0504839b4c7e11949a8044cafd69"></a><!-- doxytag: member="pyss::generate::Generate::mustGenerateTransact" ref="acb5d0504839b4c7e11949a8044cafd69" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::generate::Generate::mustGenerateTransact </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>currentTime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>См. определение в файле <a class="el" href="generate_8py_source.html">generate.py</a> строка <a class="el" href="generate_8py_source.html#l00184">184</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00185"></a>00185                                                :
<a name="l00186"></a>00186         <span class="keywordflow">if</span> self[NEXT_TIME] <span class="keywordflow">is</span> <span class="keywordtype">None</span>:
<a name="l00187"></a>00187             <span class="keywordflow">return</span> <span class="keyword">False</span>
<a name="l00188"></a>00188         m = self[MAX_AMOUNT]
<a name="l00189"></a>00189         <span class="keywordflow">if</span> (m <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>) <span class="keywordflow">and</span> m &gt; 0 <span class="keywordflow">and</span> self[COUNT_TRANSACT] &gt;= m:
<a name="l00190"></a>00190             <span class="keywordflow">return</span> <span class="keyword">False</span>
<a name="l00191"></a>00191         <span class="keywordflow">return</span> currentTime &gt;= self[NEXT_TIME]

</pre></div></p>

</div>
</div>
<a class="anchor" id="a9fcc00f610d726390d1b1ff645407ef5"></a><!-- doxytag: member="pyss::generate::Generate::setlabel" ref="a9fcc00f610d726390d1b1ff645407ef5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::pyssobject::PyssObject::setlabel </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>label</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Устанавливает метку объекта. Возвращает объект</pre></div> 
<p>См. определение в файле <a class="el" href="pyssobject_8py_source.html">pyssobject.py</a> строка <a class="el" href="pyssobject_8py_source.html#l00102">102</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00103"></a>00103                              :
<a name="l00104"></a>00104         <span class="stringliteral">&quot;&quot;&quot;Устанавливает метку объекта. Возвращает объект&quot;&quot;&quot;</span>
<a name="l00105"></a>00105         
<a name="l00106"></a>00106         self[LABEL] = label
<a name="l00107"></a>00107         <span class="keywordflow">return</span> self

</pre></div></p>

</div>
</div>
<a class="anchor" id="a0dbae2b307806e004c391b3865a74a53"></a><!-- doxytag: member="pyss::generate::Generate::transactHandle" ref="a0dbae2b307806e004c391b3865a74a53" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::generate::Generate::transactHandle </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>currentTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>transact</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяет метод предка <a class="el" href="classpyss_1_1block_1_1_block.html#af948623da6074bf8db25c0252e427eb3">pyss::block::Block</a>.</p>

<p>См. определение в файле <a class="el" href="generate_8py_source.html">generate.py</a> строка <a class="el" href="generate_8py_source.html#l00240">240</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00241"></a>00241                                                    :
<a name="l00242"></a>00242         <span class="keywordflow">if</span> transact <span class="keywordflow">and</span> <span class="keywordflow">not</span> transact[HANDLED]:
<a name="l00243"></a>00243             <span class="keywordflow">raise</span> Exception(<span class="stringliteral">&quot;Транзакт не должен входить в блок GENERATE&quot;</span>)
<a name="l00244"></a>00244         rv = <span class="keyword">False</span>
<a name="l00245"></a>00245         <span class="keywordflow">if</span> transact <span class="keywordflow">is</span> <span class="keywordtype">None</span>:
<a name="l00246"></a>00246             <span class="comment"># режим генерации</span>
<a name="l00247"></a>00247             self.transactInner(currentTime, transact=<span class="keywordtype">None</span>)
<a name="l00248"></a>00248             <span class="keywordflow">return</span> <span class="keyword">True</span>
<a name="l00249"></a>00249         <span class="keywordflow">else</span>:
<a name="l00250"></a>00250             <span class="comment"># режим обработки</span>
<a name="l00251"></a>00251             rv = <span class="keyword">True</span>
<a name="l00252"></a>00252             transact[HANDLED] = <span class="keyword">True</span>
<a name="l00253"></a>00253             <span class="keywordflow">if</span> self[BLOCK_NEXT]:
<a name="l00254"></a>00254                 <span class="keywordflow">if</span> self[BLOCK_NEXT].canEnter(transact):
<a name="l00255"></a>00255                     self.transactOut(transact)
<a name="l00256"></a>00256                 <span class="keywordflow">else</span>:
<a name="l00257"></a>00257                     self[BLOCK_NEXT].handleCanNotEnter(transact)
<a name="l00258"></a>00258                     rv = <span class="keyword">False</span>
<a name="l00259"></a>00259             <span class="keywordflow">else</span>:
<a name="l00260"></a>00260                 rv = <span class="keyword">False</span>
<a name="l00261"></a>00261         <span class="keywordflow">return</span> rv
    
</pre></div></p>

</div>
</div>
<a class="anchor" id="a60279b63c0329e3f956eb73582804cd9"></a><!-- doxytag: member="pyss::generate::Generate::transactInner" ref="a60279b63c0329e3f956eb73582804cd9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::generate::Generate::transactInner </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>currentTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>transact</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяет метод предка <a class="el" href="classpyss_1_1block_1_1_block.html#abfe7fed4d47fa27469b86d41fec4d86b">pyss::block::Block</a>.</p>

<p>См. определение в файле <a class="el" href="generate_8py_source.html">generate.py</a> строка <a class="el" href="generate_8py_source.html#l00223">223</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00224"></a>00224                                                        :
<a name="l00225"></a>00225 
<a name="l00226"></a>00226         <span class="comment"># pylint:disable=unused-argument</span>
<a name="l00227"></a>00227 
<a name="l00228"></a>00228         tr = self.generateTransact(currentTime)
<a name="l00229"></a>00229         <span class="keywordflow">if</span> tr:
<a name="l00230"></a>00230             self[ENTRY_COUNT] += 1
<a name="l00231"></a>00231             self[CURRENT_COUNT] += 1
<a name="l00232"></a>00232             sgm=self.getOwnerSegment()
<a name="l00233"></a>00233             m=self.getOwnerModel()
<a name="l00234"></a>00234             m.getCel().put(tr)
<a name="l00235"></a>00235             <span class="comment"># pylint: disable=unsubscriptable-object</span>
<a name="l00236"></a>00236             <span class="keywordflow">if</span> sgm[OPTIONS]:
<a name="l00237"></a>00237                 <span class="keywordflow">if</span> sgm[OPTIONS].logTransactGenerate:
<a name="l00238"></a>00238                     logger.info(<span class="stringliteral">&quot;Generate transact to CEL: [%s]&quot;</span> % str(tr))
<a name="l00239"></a>00239         <span class="keywordflow">return</span> tr

</pre></div></p>

</div>
</div>
<a class="anchor" id="addc7dd443a59fd99807f8b7bc5d0557b"></a><!-- doxytag: member="pyss::generate::Generate::transactOut" ref="addc7dd443a59fd99807f8b7bc5d0557b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pyss::block::Block::transactOut </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>transact</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Переопределяется в <a class="el" href="classpyss_1_1queue_1_1_queue.html#a49a7b66cfd25d859f925d62c7fabff69">pyss::queue::Queue</a>.</p>

<p>См. определение в файле <a class="el" href="block_8py_source.html">block.py</a> строка <a class="el" href="block_8py_source.html#l00112">112</a></p>

<p><div class="fragment"><pre class="fragment"><a name="l00113"></a>00113                                    :
<a name="l00114"></a>00114         self[CURRENT_COUNT] -= 1
<a name="l00115"></a>00115         <span class="keywordflow">if</span> self[CURRENT_COUNT] &lt;0:
<a name="l00116"></a>00116             <span class="comment"># TODO УБРАТЬ</span>
<a name="l00117"></a>00117             <span class="keywordflow">print</span> <span class="stringliteral">&quot;BAD&quot;</span>
<a name="l00118"></a>00118         self.moveToNextBlock(transact)

</pre></div></p>

</div>
</div>
<hr/>Объявления и описания членов класса находятся в файле:<ul>
<li>pyss/<a class="el" href="generate_8py_source.html">generate.py</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Документация по PySS. Последние изменения: Tue Sep 5 2017 17:26:13. Создано системой&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
